# 面向对象

- 面向对象编程是一种以类和对象为基本单元进行编程的编程风格，总结出来其有封装、抽象、继承、多态四个特性，按照这四个特性可以更容易的进行面向对象的代码设计。
- 面向对象语言严格来说是支持类和对象的语法机制，并有现成的语法机制能方便实现面向对象编程的四大特性的编程语言。放宽来说，只要支持类和对象就是面向对象编程语言。

面向对象软件开发三个阶段：
- 面向对象分析 OOA
- 面向对象设计 OOD
- 面向对象编程(实现) OOP

分析和设计阶段最终产出的是类的设计，包括哪些类，每个类的属性、方法，以及每个类之间如何交互。
编程阶段就是将分析和设计的结果翻译成代码的过程。

## UML

UML: Unified Model Language 统一建模语言。

UML 包含：

- 类图
    - 类之间的关系：泛化、实现、关联、聚合、组合、依赖等。
- 用例图
- 顺序图
- 活动图
- 状态图
- 组件图

由于比较复杂，可能造成沟通成本较高，所以只需要团队能看懂方便沟通就行，不需要严格按照其标准。


## 面向对象四大特性

### 封装

封装：信息隐藏或者数据访问保护。只能通过类提供的接口来访问内部信息。

封装特性需要访问权限控制这一语法机制来支持。如 private 关键词。

封装解决了调用者随意修改数据容易造成bug的问题，调用者只能通过接口来修改数据，这样也可以让数据的修改作用可控可跟踪。

### 抽象

抽象是讲如何隐藏方法的具体实现，让调用者只需要关系方法提供了哪些功能。

在面向对象编程中，通常用接口类(interface关键字)或抽象类(abstract关键字)来实现抽象。

用户可以查看接口类或具体的类提供了哪些方法，就可以知道它支持哪些功能。

抽象有时会被排除在面向对象特性之外，因为一般只要语言支持函数，就可以实现抽象特性，所以它没有什么特异性。

抽象让用户不需要关心太多具体实现，比如上传图片时，用户只需要知道方法 uploadImage，而不需要知道具体的 uploadImageToAliyun()，至于上传到阿里云还是腾讯云，具体是内部需要做的事情。

### 继承

继承是用来表示类之间 is-a 关系。继承一般是使用 extends 关键字来实现。

继承的好处是代码复用，子类可以复用父类的代码。不过也可以通过其它方式来实现代码复用，如组合。

过度使用继承，会造成继承层次深入复杂，会导致代码可读性、可维护性变差。而且修改父类会影响到子类。

所以很多人认为继承是一种反模式，应该尽量少用或不用。

### 多态

多态是指为不同数据类型的实体提供统一的接口。

多态的实现方式：
- 子类重写父类的方法。
- 基于接口：两个类只需要有相同接口
- duck-typing: 两个类只要有相同方法

```js
const a = {
    log(){
        console.log('a')
    }
}
const b = {
    log(){
        console.log('b')
    }
}
function log(o){
    o.log()
}

log(a)
log(b)
```

多态能提高代码的可扩展性和复用性。如上面代码，当需要再增加打印一种对象时，只需要它实现 log 方法即可。所以说多态提高了代码的可扩展性。

## 面向对象和面向过程

面向过程编程是一种以过程(函数、操作)作为基本单元的编程风格，以数据(属性或成员变量)和方法分离为最主要特点。由于内部分散，所以不太好作为一个整体与其它模块沟通，实现起来会比较费劲。
面向过程语言：不支持类和对象。

面向对象的优势：
- 能更好的应对大规模复杂程序开发
- 利用四大特性，更易复用、易扩展、易维护
- 符合人类思维，更人性化、更高级和智能